<!DOCTYPE html>
<title>Telegraph Graph Editor</title>

<head>
  <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.1/css/bootstrap.css">
  <link rel="stylesheet" type="text/css" href="//code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">
  <link rel="stylesheet" type="text/css" href="/telegraph/lib/nv.d3.css">
  <link rel="stylesheet" type="text/css" href="/telegraph/style.css">
  <link rel="stylesheet" type="text/css" href="/telegraph/telegraph.css">

  <script src="//code.jquery.com/jquery-1.9.1.min.js"></script>
  <script src="//code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.0.0/backbone-min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/d3/2.10.0/d3.v2.js"></script>

  <script src="/telegraph/lib/nv.d3.js"></script>
  <script src="/telegraph/telegraph.js"></script>
  <script src="/telegraph/table.js"></script>
  <script src="/telegraph/config.js"></script>
  <script src="/telegraph/main.js"></script>
</head>

<body>
  <div id="edit-container" class="clearfix">
    <div id="query-container">
      <select id="source" tooltip="true"
              title="Data source to use for queries."></select>
      <span id="help" tooltip="true" title="Tooltips enabled.">?</span>

      <textarea id="query" tooltip="true"
                title="Lamina query to add to graph."></textarea>
      <div id="query-options">
        <input type="text" id="shift" placeholder="timeshift" tooltip="true"
               title="Shift results for this target by the given interval.">

        <div id="type" class="line-plus-bar-options multi-options btn-group" data-toggle="buttons-radio"
             tooltip="true" title="Type of graph to use for drawing the results of this query.">
          <button id="line" type="button" class="btn active">Line</button>
          <button id="area" type="button" class="btn multi-options">Area</button>
          <button id="bar"  type="button" class="btn">Bar</button>
        </div>

        <div id="axis" class="multi-options btn-group" data-toggle="buttons-radio"
             tooltip="true" title="Axis to use for drawing the results of this query.">
          <button id="left"  type="button" class="btn active">&#x21E4;</button>
          <button id="right" type="button" class="btn">&#x21E5;</button>
        </div>

        <div class="buttons">
          <button id="add" class="btn" tooltip="true" title="Add this query to the graph.">
            <strong>+</strong>
          </button>
        </div>
      </div>
    </div>

    <div id="list-container">
      <div id="targets"></div>
      <div id="graph-options">
        <input type="text" id="from" class="interval" placeholder="-24h" tooltip="true"
               title="Interval from now to use as the start of the graph time period.">
        <input type="text" id="until" class="interval" placeholder="0h" tooltip="true"
               title="Interval from now to use as the end of the graph time period.">
        <input type="text" id="period" class="interval" placeholder="15m" tooltip="true"
               title="Period interval to use for all periodic query operators.">
        <select id="chart" tooltip="true" title="Chart type to use for graphing the query results.">
          <option value="lineChart">line</option>
          <option value="stackedAreaChart">stacked area</option>
          <option value="multiBarChart">multi bar</option>
          <option value="linePlusBarChart">line plus bar</option>
          <option value="multiChart">multi</option>
          <option value="lineWithFocusChart">line with viewfinder</option>
          <option value="cumulativeLineChart">cumulative line</option>
          <option value="table">table</option>
        </select>

        <div class="table-options btn-group" data-toggle="buttons-checkbox">
          <button id="invert" type="button" class="btn" tooltip="true"
                  title="Swap the columns and rows in the results table.">
            Invert</button>
          <button id="summarize" type="button" class="btn" tooltip="true"
                  title="Add a summary line to the table that sums all results for a given timepoint.">
            &Sigma;
          </button>
        </div>

        <span class="chart-options visible-options">
          <button id="align" type="button" class="btn" tooltip="true"
                  title="Align the query timeframe to the period.">
            &#x23D8;
          </button>
        </span>

        <textarea id="variables" placeholder="macro variables"></textarea>

        <input type="text" id="refresh" placeholder="refresh" tooltip="true"
               title="Auto-refresh interval in seconds.">
      </div>
    </div>
  </div>

  <div id="graph-container">
    <span id="load">
      <img class="icon" src="/telegraph/images/list.svg">
    </span>

    <div id="alerts"></div>
    <div id="graph-header">
      <span id="refresh-graph">
        <img class="icon" src="/telegraph/images/refresh.svg">
      </span>

      <div id="graph-title" class="dropdown">
        <span id="graph-name" class="dropdown-toggle" data-toggle="dropdown">
          <img class="icon" src="/telegraph/images/graph.svg">
          <span id="name"></span>
          <span id="edited"> &mdash; edited </span>
        </span>
        <ul id="graph-menu" class="dropdown-menu" role="menu">
          <li><a id="rename"    href="#">Rename</a></li>
          <li><a id="duplicate" href="#">Duplicate</a></li>
          <li><a id="save"      href="#">Save</a></li>

          <li class="divider"></li>
          <li><a id="revert"    href="#">Revert</a></li>
          <li><a id="close"     href="#">Close</a></li>
          <li><a id="delete"    href="#">Delete</a></li>
        </ul>
      </div>
    </div>

    <div id="graph" class="chart"></div>
  </div>
</body>
